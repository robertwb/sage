--- src/sphinx/texinputs/Makefile	2010-07-24 03:07:38.000000000 -0700
+++ patches/Makefile	2010-11-06 11:26:00.808639207 -0700
@@ -8,6 +8,8 @@
 ARCHIVEPRREFIX =
 # Additional LaTeX options
 LATEXOPTS =
+POOL_SIZE = 2000000
+SAVE_SIZE = 20000
 
 all: $(ALLPDF)
 all-pdf: $(ALLPDF)
@@ -41,12 +43,22 @@
 	latex $(LATEXOPTS) '$<'
 
 %.pdf: %.tex
-	pdflatex $(LATEXOPTS) '$<'
-	pdflatex $(LATEXOPTS) '$<'
-	pdflatex $(LATEXOPTS) '$<'
+	(pool_size=$(POOL_SIZE) && export pool_size && \
+	 save_size=$(SAVE_SIZE) && export save_size && \
+	 pdflatex $(LATEXOPTS) '$<')
+	(pool_size=$(POOL_SIZE) && export pool_size && \
+	 save_size=$(SAVE_SIZE) && export save_size && \
+	 pdflatex $(LATEXOPTS) '$<')
+	(pool_size=$(POOL_SIZE) && export pool_size && \
+	 save_size=$(SAVE_SIZE) && export save_size && \
+	 pdflatex $(LATEXOPTS) '$<')
 	-makeindex -s python.ist '$(basename $<).idx'
-	pdflatex $(LATEXOPTS) '$<'
-	pdflatex $(LATEXOPTS) '$<'
+	(pool_size=$(POOL_SIZE) && export pool_size && \
+	 save_size=$(SAVE_SIZE) && export save_size && \
+	 pdflatex $(LATEXOPTS) '$<')
+	(pool_size=$(POOL_SIZE) && export pool_size && \
+	 save_size=$(SAVE_SIZE) && export save_size && \
+	 pdflatex $(LATEXOPTS) '$<')
 
 clean:
 	rm -f *.pdf *.dvi *.ps
