317,318c317,318
< COMPILE = $(CC) $(NTL_INCLUDE) $(CPPFLAGS) $(CFLAGS) -c
< COMPILE_CXX = $(CXX) $(NTL_INCLUDE) $(CPPFLAGS) $(CXXFLAGS) -c
---
> COMPILE = $(CC) $(NTL_INCLUDE) $(CPPFLAGS) $(CFLAGS) $(FPICFLAG) -c
> COMPILE_CXX = $(CXX) $(NTL_INCLUDE) $(CPPFLAGS) $(CXXFLAGS) $(FPICFLAG) -c
463c463
< clobber:	
---
> clobber: clean
466,468c466,467
< 	sh RemoveProg $(PROGS) MakeDesc TestGetTime gen_lip_gmp_aux gen_gmp_aux
< 	rm -f *.o
< 	rm -rf small
---
> 	sh RemoveProg $(PROGS)                                                                                              
> 	rm libntl*.so*                                                                                                      
551a551,572
> shobj: $(OBJ)
> 
> libntl.dylib:
> 	- rm -f $(OBJ) # clean, preserving tuning parameters
> 	make shobj
> 	$(LINK_CXX) -fPIC -dynamiclib -undefined dynamic_lookup -o libntl.dylib $(OBJ) $(GMP_LIBDIR) $(GMP_LIB)
> 
> libntl.dylib64:
> 	- rm -f $(OBJ) # clean, preserving tuning parameters
> 	make shobj
> 	$(LINK_CXX) -fPIC -m64 -dynamiclib -undefined dynamic_lookup -o libntl.dylib $(OBJ) $(GMP_LIBDIR) $(GMP_LIB)
> 
> libntl.dll:
> 	- rm -f $(OBJ) # clean, preserving tuning parameters
> 	make shobj
> 	$(LINK_CXX) -fPIC -shared -o libntl.dll $(OBJ) $(GMP_LIBDIR) $(GMP_LIB)
> 
> libntl.so: DIRNAME
> 	- rm -f $(OBJ) # clean, preserving tuning parameters
> 	make FPICFLAG=-fPIC shobj
> 	$(LINK_CXX) -fPIC -shared -o lib`cat DIRNAME`.so $(OBJ) $(GMP_LIBDIR) $(GMP_LIB)
> 	ln -s lib`cat DIRNAME`.so libntl.so
