= lcalc =

== Description ==

Michael Rubinstein's L-function calculator.

== License ==

 * LGPL V2+

== SPKG Maintainers ==

 * Rishikesh

== Special Build instructions  ==

Check if there are any unwanted binary files. 4 were found on
version 1.23, which I removed. (David Kirkby, 27th May 2010).

./src/src/.Makefile.old.swp
./src/src/.Lcommandline.ggo.swp
./src/include/.Lvalue.h.swp
./src/include/.Lexplicit_formula.h.swp

== Upstream contact ==

Michael Rubinstein <mrubinst@uwaterloo.ca>

=== lcalc-1.23.p0 (David Kirkby, 27th May 2010)  ===
 * See: #9043 - lcalc failing to build on OpenSolaris x64.
 * Force 64-bit build if SAGE64 is set to "yes" and not "yes"
   and "1" as before, since an early part of Sage ensures SAGE64
   can only be "yes" or "no", so it is pointless to check for "1" too.
 * Added a variable CXXFLAG64 to spkg-install, which defaults to
   -m64, but can be set as an environment variable to whatever flag
   is needed by the C++ compiler.
 * Export CXXFLAG64 if SAGE64 is set to "yes".
 * Added {$CXXFLAG64} to patches/Makefile.sage, so that the right flag
   is added for a 64-bit build at the link phase.
 * It should be noted the Makefile makes extensive use of $(FOOBAR),
   but such variables only work internally to the Makefile. If they need
   to be inported, then it needs to be ${FOOBAR}, and not $(FOOBAR).
 * Removed these 4 files from the source, since they serve no useful
   purpose (see note in Special Build Instructions).
   ./src/src/.Makefile.old.swp
   ./src/src/.Lcommandline.ggo.swp
   ./src/include/.Lvalue.h.swp
   ./src/include/.Lexplicit_formula.h.swp

=== lcalc-1.23 (Rishikesh, 24th March 2010)  ===
 * changed spkg-install to change location of header files (#4793)
 * changed compile flags so that lcalc compiles on OSX (#4793)

=== lcalc-1.23 (Rishikesh, 9th March 2010)  ===
 * Changed makefile to compile on solaris (#5396)
 * For lcalc wrapper, changed so that the library is copied(#5396)
 * Replace the hard coded path to pari makefile to the $SAGE_LOCAL(#5396)

=== lcalc-20080205.p3 (David kirkby, 15th September, 2009) ===
 * A general tidy-up/improvement in many ways, including:
 * Force an exit on errors with 'set -e'
 * Check for SAGE_LOCAL in a better way
 * Build with debug flags as default, but allow them to be removed
 * Add flags to generate all warnings messages on both Sun and GNU compilers.
   This causes tons of warning messages from lcacl.
 * Check that the C, C++ and Fortran compilers are not a mix of Sun and GNU
 * Remove the flags which were sent directly to the assembler to
   suppress warnings. The -W flag, which works on the GNU assembler,
   is not portable and fails with Sun's assembler.
 * All tests performed in what I believe is the safest and most
   portable way, such as using || instead of -o in tests.
 * Changed the Makefile to use CXXFLAGS rather than CFLAGS, as the
   source is C++ not C, and the compiler used is the C++ compiler,
   which will ignore CFLAGS.
 * Added appropiate options to FCFLAGS. Not needed for 'lcalc', but I
   hope to use this as a template for more widespread use in Sage. It
   may however need more work, particularly in handling Fortran (There
   may be specific issues when the Fortran compiler is f90.)
 * Print variable names, to aid debugging.
 * Allow debug information to be removed from file, if
   SAGE_DEBUG is set to 'no', 'false' or '0'
   By default, debugging information will be supplied.

=== lcalc-20080205.p2 (Michael Abshoff, July 15th, 2008) ===
 * remove "-static-libgcc" from CFLAGS (fixes #3647)

=== lcalc-20080205.p1 (Michael Abshoff, May 18th, 2008) ===
 * add 64 bit OSX build support

=== lcalc-20080205.p0 (Michael Abshoff, April 19th, 2008) ===
 * Apply Tim Abbott's Debian build fix (#2967)

=== lcalc-20080205 (Michael Abshoff, April 13th, 2008) ===
 * update to lcalc 1.11 (2008-Feb-05)
 * Apply all three patches from patches directory
 * fix gcc 4.3 build issues
 * fix Solaris build
 * do not strip the lcalc binary

=== lcalc-20070105 ===
 * modified Lcommandline_elliptic.cc to work with Cygwin
  by defining a certain macro.   *** carry this change over when
  updating the package *** and of course backport it upstream.

* New version from Mike R. on 2006-12-05.

* I replaced the included Makefile with my own, since I'm only interested
  in building lcalc and not the library.  Also, since I'm not doing
  development on lcalc, the dependencies aren't needed in order
  to minimize build time.


* 2006-09-15: Fix to spkg-install suggested by Kate Minola:
In lcalc-2006.03.05/spkg-install there is
: CFLAGS="$CFLAGS -O2 -g -Wa,-W -fno-exceptions -Wno-deprecated"
:
: cd src
:
: echo "Building Rubinstein's lcalc program using $CXX..."
:
: make lcalc
but since the environment variable CFLAGS is never exported, the subshell
entered with 'make lcalc' does not pick up the new CFLAGS.  You need to
add
  export CFLAGS
after the new definition of CLAGS.

* Kate Minola:
  Added -static-libgcc
