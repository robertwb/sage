= ecm =

== Description ==

GMP-ECM - Elliptic Curve Method for Integer Factorization

Sources can be obtained from http://gforge.inria.fr/projects/ecm/

== License ==

LGPL V2+

== SPKG Maintainers ==

 * William Stein

== Upstream Contact ==

 * ecm-discuss@lists.gforge.inria.fr (requires subscription)

== Dependencies ==

 * GMP/MPIR (Note: Python is *not* required for ordinary builds.)

== Special Update/Build Instructions ==

 * src/ contains "stable" upstream code, to which we currently apply
   two upstream patches (both to 'configure.in'). These (i.e. the
   files 'patches/configure.in' and 'patches/configure') should be
   removed on the next upgrade to a stable release.
 * GMP-ECM comes with a self-tuning feature; we could support
   that as an option ($SAGE_TUNE_*=yes) in the future.
 * We currently work around a linker bug on MacOS X 10.5 PPC (with
   GCC 4.2.1) which breaks 'configure' if debug symbols are enabled.
   This *might* get fixed in later upstream releases.
 * ECM currently does not use the CC and CFLAGS settings from 'gmp.h'
   since we pass (other) options in CFLAGS (though MPIR currently doesn't
   use its own CFLAGS for the same reason); we could fix that somehow
   s.t. "optimized" code generation options ('-mcpu=...', '-mtune=...')
   are used by gcc. Of course a user can also manually enable them by
   setting the "global" CFLAGS to e.g. "-march=native" on x86 systems.
   Note that this doesn't affect the packages' selection of processor-
   specific optimized [assembly] code.
   'spkg-install' already reads those settings now, but doesn't yet
   use them.
   If SAGE_FAT_BINARY="yes", we should avoid too specific settings of
   "-mcpu=...", and perhaps pass a more generic "--host=..." to
   'configure'.

== Changelog ==

=== ecm-6.3.p2 (Leif Leonhardy, November 23rd, 2010) ===
 * Apply another patch from upstream to 'configure.in' to fix compilation
   on 32-bit x86 processors supporting SSE2. (#10252)
   (There's only a single, cumulative patch file since both patches are to
   'configure.in'.)
 * Work around linker bug on MacOS X 10.5 PPC (see Special Update/Build
   Instructions above, and #5847 comment 35 ff.).
 * Allow passing extra arguments to 'configure' through ECM_EXTRA_OPTS.
 * Add "-march=native" to CFLAGS on platforms that support it if CFLAGS
   do not already contain similar.
 * Print settings of CC, CFLAGS etc. and how we configure.
 * Print settings of CC and CFLAGS found in 'SAGE_LOCAL/include/gmp.h'
   and eventually a system-wide 'gmp.h'; these aren't yet used though.
 * Further clean-up.

=== ecm-6.3.p1 (Jeroen Demeyer, November 10th, 2010) ===
 * Apply a patch from upstream to configure.in to fix compilation
   on 32-bit PowerPC processors.

=== ecm-6.3.p0 (Leif Leonhardy, November 4th, 2010) ===
 * #5847: Reviewer patch applied to Mike's spkg (upgrade to 6.3)
 * There are no patches, but to avoid confusion with the previous
   one, it's now 'p0'.
 * Added sanity checks to spkg-install and spkg-check.
 * Add debug symbols by default, disable optimization if SAGE_DEBUG=yes,
   enable optimization (-O3) otherwise.
 * Remove also the manual page of previous installations.
 * Typo: 'rm -r' -> 'rm -f' (header file)
 * Removed setting of CXXFLAGS, since we don't have C++ code.
 * Don't overwrite CFLAGS if SAGE64=yes (instead, append).
   Removed -O2 -g in that case. Make use of CFLAG64 if set.
 * Quote $SAGE_LOCAL in the parameters to configure, too.
 * Use $MAKE instead of 'make' in spkg-check, too.
 * Some messages changed (e.g. all failures now starting with "Error"),
   some added.
 * A few comments/notes added (SPKG.txt, spkg-install).

=== ecm-6.3 (Mike Hansen, August 16th, 2010) ===
 * #5847: Update GMP-ECM to 6.3

=== ecm-6.2.1.p1 (Jaap Spies, Jan 25th, 2010) ===
 * Made SAGE64="yes" work also for Open Solaris 64 bit
 * Removed Michael Mabshoff as maintainer

=== ecm-6.2.1.p1 (François Bissey, October 26th, 2009) ===
 * The removal of the old version of ecm in ecm-6.2.1_p0.spkg is
   broken because of the typo "SAGE_LCOAL"; notice that it should be
   "SAGE_LOCAL".

=== ecm-6.2.1.p0 (Michael Abshoff, January 19th, 2008) ===
 * bump version to force recompile due to gmp -> MPIR switch

=== ecm-6.2.1 (Michael Abshoff, December 23rd, 2008) ===
 * upgrade to latest upstream release (#3237)
 * clean up old static library, headers and binary
 * improve SPKG.txt

=== ecm-6.1.3.p0 (Michael Abshoff, May 18th, 2008) ===
 * add 64 bit OSX support

=== ecm-6.1.3 (Michael Abshoff, Sept. 24th, 2007) ===
 * update to ecm 6.1.3

* Initial version - date unknown:

I obtained the package from http://gforge.inria.fr/projects/ecm/
