--- ../Singular-3-1-0/factory/assert.h	2009-01-06 13:58:20.000000000 +0000
+++ assert.h	2009-05-12 18:12:52.000000000 +0100
@@ -127,3 +127,12 @@
 #define PVIRT_CHARCC(msg) = 0
 #endif /* NOASSERT */
 /* }}} */
+
+
+/* SAGE hack: This is *critically* needed to compile on some systems
+   for which the logic above is broken.   Obviously it defeates the
+   purpose of assert here, but at least it means that the code compiles.
+*/
+#ifndef assert
+#define assert
+#endif
