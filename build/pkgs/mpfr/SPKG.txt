= MPFR =

== Description ==

From http://mpfr.org/: The MPFR library is a C library for multiple-precision
floating-point computations with correct rounding. MPFR has continuously been
supported by the INRIA and the current main authors come from the CACAO and
Arenaire project-teams at Loria (Nancy, France) and LIP (Lyon, France)
respectively; see more on the credit page. MPFR is based on the GMP
multiple-precision library.

== License ==

MPFR is free. It is distributed under the GNU Lesser General Public License
(GNU Lesser GPL), version 2.1 or later.

== SPKG Maintainers ==

 * David Kirkby

== Upstream Contact ==

The MPFR website is located at http://mpfr.org/

The MPFR team can be contact via the MPFR mailing list: mpfr@loria.fr

== Dependencies ==

 * GMP

== IMPORTANT ==
When building Sage binaries for widespead distribution, set the variable
INCLUDE_MPFR_PATCH to 1, to include a patch, which can cause failures
on sun4v machines.

== Changelog ==

=== mpfr-2.4.1p1 (Jaap Spies, Jan 26th, 2010) ===
 * Make SAGE64 work also on Open Solaris 64 bit

=== mpfr-2.4.1p0 (David Kirkby, July 17th 2009) ===
 * Sage TRAC #6453 http://sagetrac.org/sage_trac/ticket/6453
   Implement a patch to mpn_exp.c develoed by Paul Zimmermann
   (Paul.Zimmermann@loria.fr) to bypass what may be a Solaris or gcc bug.
   This avoids 20 test failures on a Sun T5240 running Solaris 10 (both
   updates 4 and 7 have been tried on this machine). Since it's only seen
   there, the patch is very specific and is only applied on those machines, not
   all Solaris systems by default, but can be over-ridden with an environment
   variable INCLUDE_MPFR_PATCH (set to 1 to include patch, 0 to exclude it).
   If INCLUDE_MPFR_PATCH is unset, the patch will be included on sun4v systems,
   but exluded on all others. Please set it to 1 if building binaries for others.

   This is as gcc bug ID 40757 - see http://gcc.gnu.org/bugzilla/show_bug.cgi?id=40757

 * Remove a comment at the bottom of spkg-install telling developers to bypass
   check on release systems. Given failures have occured, it would be unwise to
   bypass any checks.
   Note, the checks were performed in Sage 4.1, so despite a coment saying
   checks should be bypassed in 'releases' they were in fact not bypassed.
   The tests were already executed, which is how the bug was discovered.

 * Add a comment to remind people not to bypass the tests, pointing out
   failures had occured, so it would be unwise to bypass checks.

 * Update the source to use the latest patches, as strongly reccommened in the
   INSTALL file. This brings the code to MPFR 2.4.1 patch level 5, though I'm
   considering it mpfr-2.4.1p0 for Sage purposes.

=== mpfr-2.4.1 (Michael Abshoff, March 2nd, 2009) ===
 * update to the official MPFR 2.4.1 release

=== mpfr-2.4.0 (Michael Abshoff, February 7th, 2009) ===
 * update to the official MPFR 2.4.0 release
 * turn on the test suite per default

=== mpfr-2.3.2 (Michael Abshoff, September 27th, 2008) ===
 * update to the official MPFR 2.3.2 release

=== mpfr-2.3.1 (Michael Abshoff, Jan. 29th, 2008) ===
 * update to the official MPFR 2.3.1 release
 * remove workaround patches
 * split make phase into make & make install
 * verify that SAGE_LOCAL is defined (#633)

=== mpfr-2.3.0.p2 (Michael Abshoff, Jan. 15th, 2008) ===
 * integrate r5186 from trunk at http://gforge.inria.fr/plugins/scmsvn/viewcvs.php/trunk/?root=mpfr - This fixes an issue in mpfr where it would use alloca instead of the allocation function provided by GMP (which theses days is anything but alloca() due to limited stack on most system. Against policy I did patch mpfr-gmp.[c|h] directly since we will update to MPFR 2.3.1 once it is out shortly anyway.
 * add 64 bit MacOSX build support

=== mpfr-2.3.0.p1 (Michael Abshoff, Nov. 15th, 2007) ===
 * patched sources in place to 2.3.0-p4 (see http://www.mpfr.org/mpfr-current/patches)

=== mpfr-2.3.0 (Michael Abshoff, Sept. 14th, 2007) ===
 * upgrade to mpfr 2.3.0 release
 * add spkg-check
